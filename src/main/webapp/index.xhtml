<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
  <title>RAG Web Application (Jakarta EE )</title>
  <!-- Ajoutez votre CSS ici -->
</h:head>
<h:body>
  <h1>Assistant RAG</h1>
  <h:form>
    <!-- Affichage de la réponse -->
    <h:panelGroup rendered="#{not empty chatBean.response}">
      <p><strong>Assistant:</strong></p>
      <div style="border: 1px solid #ccc; padding: 10px; white-space:
pre-wrap;">
        <h:outputText value="#{chatBean.response}" />
      </div>
    </h:panelGroup>
    <!-- Champ de saisie et bouton -->
    <p>
      <h:inputText value="#{chatBean.userMessage}" size="80" />
      <h:commandButton value="Envoyer" action="#
{chatBean.sendMessage}" />
    </p>
  </h:form>
  <!-- Affichage des logs d'initialisation si le service échoue -->
  <h:panelGroup rendered="#{ragService.assistant == null}">
    <p style="color: red;">Le service RAG n'est pas initialisé. Vérifiez
      les logs du serveur pour les erreurs de clé API.</p>
  </h:panelGroup>
</h:body>
</html>